!function(t){"use strict"
var i=function(){return{obj:null,options:null,nav:null,build:function(t,i){return this.obj=t,this.options=i,this._createNavigation(),this._setPage(),this.options.onCreate&&this.options.onCreate(t),this.obj},_createNavigation:function(){this._createNavigationWrapper(),this._createNavigationButtons(),this._appendNavigation(),this._addNavigationCallbacks()},_createNavigationWrapper:function(){this.nav=t("<div>",{"class":this.options.navigationClass})},_createNavigationButtons:function(){this.options.first&&this._createNavigationButton(this.options.firstText,{"data-first":!0}),this.options.previous&&this._createNavigationButton(this.options.previousText,{"data-direction":-1,"data-previous":!0})
for(var t=0;t<this._totalPages();++t)this._createNavigationButton(this.options.pageToText(t),{"data-page":t})
this.options.next&&this._createNavigationButton(this.options.nextText,{"data-direction":1,"data-next":!0}),this.options.last&&this._createNavigationButton(this.options.lastText,{"data-last":!0})},_createNavigationButton:function(i,a){this.nav.append(t("<a>",t.extend(a,{href:"#",text:i})))},_appendNavigation:function(){this.options.navigationWrapper?this.options.navigationWrapper.append(this.nav):this.obj.after(this.nav)},_addNavigationCallbacks:function(){var i=this
i.nav.find("a").click(function(a){var n=1*t(this).data("direction")
if(void 0!==t(this).data("first"))i._setPage(0)
else if(void 0!==t(this).data("page"))i._setPage(1*t(this).data("page"))
else if(void 0!==t(this).data("previous")||void 0!==t(this).data("next")){var e=i._currentPage()+n
e>=0&&e<=i._totalPages()-1&&i._setPage(e)}else void 0!==t(this).data("last")&&i._setPage(i._totalPages()-1)
return i.options.onSelect&&i.options.onSelect(i.obj,i._currentPage()),a.preventDefault(),!1})},_setPage:function(t){t||(t=this.options.initialPage),this._rows().hide().slice(t*this.options.limit,(t+1)*this.options.limit).show(),this.nav.find("a").removeAttr("data-selected").siblings("a[data-page="+t+"]").attr("data-selected",!0)},_currentPage:function(){return this.nav.find("a[data-selected=true]").data("page")},_totalRows:function(){return this._rows().length},_rows:function(){return this.obj.find(this.options.childrenSelector)},_totalPages:function(){return Math.floor(this._totalRows()/this.options.limit)}}}
t.fn.paginate=function(a){switch(a){default:return i().build(this,t.extend({},t.fn.paginate.defaults,a))}},t.fn.paginate.defaults={limit:20,initialPage:0,previous:!0,previousText:"<",next:!0,nextText:">",first:!0,firstText:"<<",last:!0,lastText:">>",optional:!0,onCreate:null,onSelect:null,childrenSelector:"tbody > tr",navigationWrapper:null,navigationClass:"page-navigation",pageToText:function(t){return(t+1).toString()}}}(jQuery)
